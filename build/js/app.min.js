(()=>{var e={104:e=>{var t="undefined"!=typeof process&&process.pid?process.pid.toString(36):"";function n(){var e=Date.now(),t=n.last||e;return n.last=e>t?e:t+1}e.exports=e.exports.default=function(e,i){return(e||"")+""+t+n().toString(36)+(i||"")},e.exports.process=function(e,i){return(e||"")+t+n().toString(36)+(i||"")},e.exports.time=function(e,t){return(e||"")+n().toString(36)+(t||"")}}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var g=t[i]={exports:{}};return e[i](g,g.exports,n),g.exports}(()=>{"use strict";var e=n(104);const t={а:"img/А.png",б:"img/Б.png",в:"img/В.png",г:"img/Г.png",д:"img/Д.png",е:"img/Е.png",ё:"img/Ё.png",ж:"img/Ж.png",з:"img/З.png",и:"img/И.png",к:"img/К.png",л:"img/Л.png",м:"img/М.png",н:"img/Н.png",о:"img/О.png",п:"img/П.png",р:"img/Р.png",с:"img/С.png",т:"img/Т.png",у:"img/У.png",ф:"img/Ф.png",х:"img/Х.png",ц:"img/Ц.png",ч:"img/Ч.png",ш:"img/Ш.png",щ:"img/Щ.png",э:"img/Э.png",ю:"img/Ю.png",я:"img/Я.png",a:"img/A.png",b:"img/B.png",c:"img/C.png",d:"img/D.png",e:"img/E.png",f:"img/F.png",g:"img/G.png",h:"img/H.png",i:"img/I.png",j:"img/J.png",k:"img/K.png",l:"img/L.png",m:"img/M.png",n:"img/N.png",o:"img/O.png",p:"img/P.png",q:"img/Q.png",r:"img/R.png",s:"img/S.png",t:"img/T.png",u:"img/U.png",v:"img/V.png",w:"img/W.png",x:"img/X.png",y:"img/Y.png",z:"img/Z.png"},i=e=>{if(!e)return;const n=document.querySelector(".comments-wrapper-outer");n.innerHTML="",e.sort(((e,t)=>-e.date.localeCompare(t.date))).map(((a,g)=>{const r=document.createElement("div");r.className="comments-wrapper-inner";const s=document.createElement("img");s.className="name-icon",s.setAttribute("src",`${t[a.author.slice(0,1).toLowerCase()]}`),s.style="height:50px;width:50px",r.append(s);const m=document.createElement("div");m.className="comment-container";const o=document.createElement("div");o.className="comment-author";const c=document.createElement("div");c.className="comment-text";const p=document.createElement("div");p.className="comment-date";const l=document.createElement("div");l.className="buttons-wrapper comment-buttons";const d=document.createElement("a"),u=a.like?"fa-solid":"fa-regular";d.innerHTML=`<i class="fa-sharp ${u} fa-heart"></i>`;const f=document.createElement("a");f.innerHTML='<i class="fa-sharp fa-regular fa-trash-can"></i>',l.append(d,f),l.addEventListener("click",(t=>{t.preventDefault(),t.target.classList.contains("fa-heart")&&(a.like=!a.like,a.like?d.classList.replace("fa-regular","fa-solid"):d.classList.replace("fa-solid","fa-regular"),localStorage.setItem("persistentState",JSON.stringify(e)),i(e)),t.target.classList.contains("fa-trash-can")&&(e.splice(g,1),localStorage.setItem("persistentState",JSON.stringify(e)),i(e))})),o.innerHTML=a.author,c.innerHTML=a.text;const v=new Date(a.date).toLocaleDateString(),L=new Date(a.date).toLocaleTimeString().slice(0,-3),S=new Date;return S.setDate(S.getDate()-1),v===(new Date).toLocaleDateString()?p.innerHTML=`сегодня, ${L}`:v===S.toLocaleDateString()?p.innerHTML=`вчера, ${L}`:p.innerHTML=`${v}, ${L}`,m.append(o,p,c,l),r.append(m),n.append(r),n}))},a=i;(()=>{const t=JSON.parse(localStorage.getItem("persistentState")),n=t?[].concat(t):[];a(n),console.log(n);const i=document.querySelector(".comment-form");i.addEventListener("keyup",(e=>{const{target:t}=e;if(9===e.keyCode||"field-date"===t.id)return;const n=document.getElementById(t.dataset.id);return t.value?(n.innerHTML='<i class="fa-solid fa-check">',t.classList.remove("invalid"),!0):(n.innerHTML="Обязательное поле!",t.classList.add("invalid"),!1)})),i.addEventListener("submit",(t=>{t.preventDefault();const i=document.getElementById("form-status"),g=document.getElementById("field-author"),r=document.getElementById("field-text"),s=document.getElementById("field-date"),m=s.value?new Date(s.value).toISOString():(new Date).toISOString();if(!g.value||!r.value)return i.innerHTML="Заполните обязательные поля!",g.classList.add("invalid"),g.nextElementSibling.innerHTML="Обязательное поле!",r.classList.add("invalid"),r.nextElementSibling.innerHTML="Обязательное поле!",!1;i.innerHTML="",n.push({id:e(),author:g.value,date:m,text:r.value,like:null}),localStorage.setItem("persistentState",JSON.stringify(n)),g.value="",s.value="",r.value="",a(n)}))})()})()})();